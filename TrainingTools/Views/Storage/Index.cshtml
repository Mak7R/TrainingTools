@*@model IEnumerable<StorageViewModel>

@{
    ViewBag.Title = "Storages";
    ViewBag.ActivePage = "storages";
}
@{
    dynamic searchPartialViewModel = new ExpandoObject();
    searchPartialViewModel.FormAction = "/storages";
    searchPartialViewModel.FormName = "search-storages";
    searchPartialViewModel.FormSelectItems = new Dictionary<string, string>
    {
        { nameof(StorageViewModel.Id), "Id" },
        { nameof(StorageViewModel.Name), "Name" }
    };

    string partialIconsPath = "Partials/SmallItems/";
}
<div class="container-fluid">
    @await Html.PartialAsync("Partials/SearchPartialView", searchPartialViewModel, ViewData)
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th class="col-3">
                    @await Component.InvokeAsync("Sort", 
                        new
                        {
                            action = searchPartialViewModel.FormAction, 
                            value = nameof(StorageViewModel.Id), 
                            display = "Id",
                            options = new Dictionary<string, string>()
                            {
                                {"",$"{partialIconsPath}None"}, {"DESCENDING", $"{partialIconsPath}Down"}, {"ASCENDING", $"{partialIconsPath}Up"}
                            },
                            viewBag = ViewBag
                        })
                </th>
                <th class="col-4">
                    @await Component.InvokeAsync("Sort",
                             new
                             {
                                 action = searchPartialViewModel.FormAction,
                                 value = nameof(StorageViewModel.Name),
                                 display = "Name",
                                 options = new Dictionary<string, string>()
                                 {
                                     { "", $"{partialIconsPath}None" }, { "A-Z", $"{partialIconsPath}Up" }, { "Z-A", $"{partialIconsPath}Down" }
                                 },
                                 viewBag = ViewBag
                             })
                </th>
                <th class="col-1">Items</th>
                <th class="col-1">Item Types</th>
                <th class="col-2">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var storage in Model)
            {
                <tr>
                    <td>@storage.Id</td>
                    <td>
                        <a href="/storages/@storage.Id">@storage.Name</a>
                        </td>
                    <td>
                        <a href="/storages/@storage.Id/items">Items</a>
                    </td>
                    <td>
                        <a href="/storages/@storage.Id/item-types">Item types</a>
                    </td>
                    <td>
                        <a href="/storages/@storage.Id/edit" class="btn btn-primary">Edit</a>
                        <a href="/storages/@storage.Id/delete" class="btn btn-danger">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <a class="btn btn-success btn-block w-100" href="/storages/add">Add Storage</a>
</div>
*@





